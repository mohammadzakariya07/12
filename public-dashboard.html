<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Aadhaar â€“ Public Dashboard</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #0f172a;
    color: white;
    text-align: center;
    padding: 40px;
  }

  .box {
    background: #1e293b;
    padding: 20px;
    margin: 15px auto;
    width: 260px;
    border-radius: 10px;
  }

  .label {
    color: #93c5fd;
    font-size: 14px;
  }

  .value {
    font-size: 36px;
    font-weight: bold;
    margin-top: 10px;
    color: #38bdf8;
  }

  pre {
    background: #020617;
    padding: 15px;
    margin-top: 30px;
    text-align: left;
    overflow-x: auto;
  }
</style>
</head>

<body>

<h2>ðŸ“Š Smart Aadhaar â€“ Public Dashboard</h2>

<div class="box">
  <div class="label">Total Applicants</div>
  <div class="value" id="total">â€“</div>
</div>

<div class="box">
  <div class="label">Pending</div>
  <div class="value" id="pending">â€“</div>
</div>

<div class="box">
  <div class="label">Done</div>
  <div class="value" id="done">â€“</div>
</div>

<div class="box">
  <div class="label">Not Done</div>
  <div class="value" id="notDone">â€“</div>
</div>

<h3>ðŸ”Ž Raw API Response (Debug)</h3>
<pre id="raw">Loading...</pre>

<script>
const API_URL =
"https://script.google.com/macros/s/AKfycbyfMiNBKK1C6qFZJHHJjCaa7HCOzJ30bECpoR1CY9fwgO01B78AeS8-LL6XBr8s6nZ9/exec"; // LIST API

fetch(API_URL)
  .then(r => r.json())
  .then(list => {
    console.log("LIST DATA:", list);

    let total = list.length;
    let pending = 0;
    let done = 0;
    let notDone = 0;

    list.forEach(item => {
      const status = (item.status || "Pending").toLowerCase();

      if (status === "done") done++;
      else if (status === "not done" || status === "notdone") notDone++;
      else pending++;
    });

    document.getElementById("total").innerText = total;
    document.getElementById("pending").innerText = pending;
    document.getElementById("done").innerText = done;
    document.getElementById("notDone").innerText = notDone;
  })
  .catch(err => {
    console.error("Dashboard error:", err);
  });
</script>


</body>
</html>
