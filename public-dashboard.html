<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Aadhaar â€“ Public Dashboard</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #0f172a;
    color: white;
    text-align: center;
    padding: 30px;
  }

  h2 {
    margin-bottom: 30px;
  }

  .container {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
  }

  .card {
    background: #1e293b;
    padding: 20px;
    width: 220px;
    border-radius: 10px;
  }

  .label {
    font-size: 16px;
    color: #93c5fd;
  }

  .value {
    font-size: 36px;
    font-weight: bold;
    margin-top: 10px;
    color: #38bdf8;
  }

  footer {
    margin-top: 40px;
    font-size: 12px;
    opacity: 0.6;
  }
</style>
</head>

<body>

<h2>ðŸ“Š Smart Aadhaar â€“ Live Public Dashboard</h2>

<div class="container">
  <div class="card">
    <div class="label">Total Applications</div>
    <div class="value" id="total">Loading...</div>
  </div>

  <div class="card">
    <div class="label">Pending</div>
    <div class="value" id="pending">Loading...</div>
  </div>

  <div class="card">
    <div class="label">Done</div>
    <div class="value" id="done">Loading...</div>
  </div>

  <div class="card">
    <div class="label">Not Done</div>
    <div class="value" id="notDone">Loading...</div>
  </div>
</div>

<footer>
  Public â€¢ Read-only â€¢ Auto-updating
</footer>

<script>
const API =
"https://script.google.com/macros/s/AKfycbyfMiNBKK1C6qFZJHHJjCaa7HCOzJ30bECpoR1CY9fwgO01B78AeS8-LL6XBr8s6nZ9/exec";

function loadData() {
  fetch(API)
    .then(response => response.json())
    .then(data => {
      console.log("API DATA:", data); // DEBUG (you can remove later)

      document.getElementById("total").innerText =
        data.total !== undefined ? data.total : "0";

      document.getElementById("pending").innerText =
        data.pending !== undefined ? data.pending : "0";

      document.getElementById("done").innerText =
        data.done !== undefined ? data.done : "0";

      document.getElementById("notDone").innerText =
        data.notDone !== undefined ? data.notDone : "0";
    })
    .catch(error => {
      console.error("Fetch error:", error);
    });
}

loadData();
setInterval(loadData, 5000); // refresh every 5 sec
</script>

</body>
</html>
